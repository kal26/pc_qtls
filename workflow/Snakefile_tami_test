import pandas as pd


tissue_id_path = config['tissue_id_path']
chr_list_path = config['chr_list_path']
clusters_dir = config['clusters_dir']
expression_dir = config['expression_dir']
corr_dir = config['corr_dir']

# define these, from config??
covars_yn = 'yes_covars',
        n_peers = 60,
        n_pcs = 0

        perc_threshold = 70,
        c_size_max = 50,
        c_size_min = 2 



# load in all the wildcards
df = pd.read_csv(tissue_id_path, header=0)
tissue_ids = list(df['Tissue'])
print('Running on tissues:{}'.format(tissue_ids))

df = pd.read_csv(chr_list_path, header=0)
chr_list = list(df['chr_id'])

include: 'rules/clusters.smk'

rule all:
    input:
        pc_nominal = expand(clusters_dir + '{TISSUE}/clusters_chr_{CHROM}.csv', CHROM=chr_list, TISSUE = tissue_ids)